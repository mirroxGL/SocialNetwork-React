{"version":3,"file":"static/js/860.63a29971.chunk.js","mappings":"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","sources":["HOC/withAuthRedirect.js","webpack://react-ez-1/./src/components/Users/Users.module.css?b9d0","webpack://react-ez-1/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.js"],"sourcesContent":["import React from 'react'\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n   isAuth: state.auth.isAuth\r\n\r\n})\r\n\r\nconst withAuthRedirect = (Component) => {\r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n\r\n         if (!this.props.isAuth) {\r\n            return <Navigate to={\"/login\"} />\r\n         }\r\n         return <Component {...this.props} />\r\n      }\r\n   }\r\n\r\n\r\n\r\n   let ConnectedAuthRedirectContainer = connect(mapStateToPropsForRedirect, null)(RedirectComponent)\r\n\r\n   return ConnectedAuthRedirectContainer\r\n\r\n}\r\n\r\nexport default withAuthRedirect","// extracted by mini-css-extract-plugin\nexport default {\"usersBlock\":\"Users_usersBlock__UHGCt\",\"usersDiv\":\"Users_usersDiv__Zn-UT\",\"userItem\":\"Users_userItem__nfmnj\",\"userItem_block\":\"Users_userItem_block__ul-eQ\",\"userItem_info\":\"Users_userItem_info__VseRx\",\"userItem_left\":\"Users_userItem_left__zlcrQ\",\"userItem_right\":\"Users_userItem_right__VD8s5\",\"followBtn\":\"Users_followBtn__bXJYu\",\"userItem_avatarImg\":\"Users_userItem_avatarImg__vbB2u\",\"userItem_name\":\"Users_userItem_name__YMgWR\",\"userItem_country\":\"Users_userItem_country__+Nb7N\",\"userItem_city\":\"Users_userItem_city__EhUDK\"};","// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Paginator_selectedPage__uor2+\",\"pagination\":\"Paginator_pagination__rsxX6\",\"paginationNumber\":\"Paginator_paginationNumber__xKHJf\",\"paginatorBtn\":\"Paginator_paginatorBtn__gg+yN\"};","import React, { useState } from 'react';\r\nimport s from \"./Paginator.module.css\"\r\n\r\nconst Paginator = (props, { portionSize = 5 }) => {\r\n   let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize)\r\n   let pages = [];\r\n\r\n   for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i);\r\n\r\n   }\r\n\r\n   let portionsCount = Math.ceil(pagesCount / portionSize)\r\n   let [portionNumber, setPortionNumber] = useState(1)\r\n   let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n   let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n   return (\r\n      <div>\r\n         <div className={s.usersBlock}>\r\n\r\n            <div className={s.pagination}>\r\n               {leftPortionPageNumber > 1 && <button className={s.paginatorBtn} onClick={() => {\r\n                  setPortionNumber(portionNumber - 1)\r\n               }} >Prev</button>}\r\n\r\n               {pages\r\n                  .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                  .map(p => {\r\n                     return <span onClick={() => { props.onPageChanged(p) }} className={props.currentPage === p ? s.selectedPage : \"\"}><span className={s.paginationNumber}>{p}</span></span>\r\n                  })}\r\n               {rightPortionPageNumber < portionsCount && <button className={s.paginatorBtn} onClick={() => {\r\n                  setPortionNumber(portionNumber + 1)\r\n               }}>Next</button>}\r\n\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport s from \"../Users.module.css\"\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n\r\n   return (\r\n      <div>\r\n         {props.users.map(u =>\r\n            <div className={s.userItem}>\r\n               <div className={s.userItem_block}>\r\n                  <div className={s.userItem_avatar}>\r\n                     <NavLink to={\"/profile/\" + u.id}>\r\n                        <img className={s.userItem_avatarImg} src={u.photos.small != null ? u.photos.small : \"https://illumesense.com/resources/illumesense/style/img/website/profile-picture-blanks/male-profile.jpg\"} alt=\"\" />\r\n                     </NavLink>\r\n                  </div>\r\n                  <div className={s.userItem_info}>\r\n                     <div className={s.userItem_left}>\r\n                        <div className={s.userItem_name}>{u.name}</div>\r\n                        <div className={s.userItem_status}>{u.status}</div>\r\n                     </div>\r\n                     <div className={s.userItem_right}>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n               {\r\n                  u.followed\r\n                     ? <button disabled={props.followingInProgress.some(id => id === u.id)} className={s.followBtn} onClick={() => {\r\n                        props.unfollow(u)\r\n                     }} >Unfollow</button>\r\n\r\n                     : <button disabled={props.followingInProgress.some(id => id === u.id)} className={s.followBtn} onClick={() => {\r\n                        props.follow(u)\r\n                     }} >Follow</button>\r\n\r\n               }\r\n            </div>\r\n         )\r\n         }\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./Users.module.css\"\r\nimport { Navigate } from 'react-router-dom';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User/User.jsx\";\r\n\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n   if (!props.isAuth) {\r\n      return <Navigate to={\"/login\"} />\r\n   }\r\n   return <div className={s.usersDiv}>\r\n      <Paginator pageSize={props.pageSize} totalItemsCount={props.totalUsersCount} currentPage={props.currentPage} onPageChanged={props.onPageChanged} />\r\n      <User pageSize={props.pageSize} users={props.users} totalUsersCount={props.totalUsersCount} followingInProgress={props.followingInProgress} />\r\n   </div >\r\n}\r\n\r\nexport default Users","\r\n\r\n\r\nexport const getUsers = (state) => {\r\n   return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n   return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n   return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { setCurrentPageAC, requestUsersThunkCreator, unfollowThunkCreator, followThunkCreator, setUsersAC } from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"./../common/Preloader/Preloader\"\r\nimport withAuthRedirect from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from 'redux'\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../redux/users-selectors\";\r\n\r\n\r\n\r\nexport class UsersContainer extends React.Component {\r\n\r\n   componentDidMount() {\r\n      this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n\r\n\r\n   }\r\n   onPageChanged = (pageNumber) => {\r\n      this.props.requestUsers(pageNumber, this.props.pageSize)\r\n      this.props.setCurrentPage(pageNumber)\r\n\r\n   }\r\n\r\n\r\n\r\n   render() {\r\n      return (<>\r\n         {this.props.isFetching ? <Preloader /> : null}\r\n         <Users onPageChanged={this.onPageChanged}\r\n            pageSize={this.props.pageSize}\r\n            currentPage={this.props.currentPage}\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            users={this.props.users}\r\n            unfollow={this.props.unfollow}\r\n            follow={this.props.follow}\r\n            toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n            followingInProgress={this.props.followingInProgress}\r\n            isAuth={this.props.isAuth}\r\n            setCurrentPage={this.props.setCurrentPage}\r\n            setUsers={this.props.setUsers} />\r\n\r\n      </>\r\n      )\r\n   }\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgress: getFollowingInProgress(state)\r\n   }\r\n}\r\n\r\n\r\nexport default compose(\r\n   withAuthRedirect,\r\n   connect(mapStateToProps, {\r\n      unfollow: unfollowThunkCreator,\r\n      follow: followThunkCreator,\r\n      setCurrentPage: setCurrentPageAC,\r\n      requestUsers: requestUsersThunkCreator,\r\n      setUsers: setUsersAC,\r\n\r\n   }),\r\n\r\n)(UsersContainer)\r\n\r\n\r\n\r\n\r\n"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","Component","RedirectComponent","this","props","to","React","connect","portionSize","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","onClick","filter","p","map","onPageChanged","currentPage","users","u","id","src","photos","small","alt","name","status","followed","disabled","followingInProgress","some","unfollow","follow","totalUsersCount","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","setCurrentPage","Preloader","toggleFollowingInProgress","setUsers","compose","withAuthRedirect","unfollowThunkCreator","followThunkCreator","setCurrentPageAC","requestUsersThunkCreator","setUsersAC"],"sourceRoot":""}