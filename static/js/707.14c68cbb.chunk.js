"use strict";(self.webpackChunkreact_ez_1=self.webpackChunkreact_ez_1||[]).push([[707],{7193:function(s,e,t){var i=t(8683),r=t(5671),o=t(3144),n=t(136),a=t(2882),l=t(2791),u=t(6871),p=t(8687),c=t(184),f=function(s){return{isAuth:s.auth.isAuth}};e.Z=function(s){var e=function(e){(0,n.Z)(l,e);var t=(0,a.Z)(l);function l(){return(0,r.Z)(this,l),t.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(s,(0,i.Z)({},this.props)):(0,c.jsx)(u.Fg,{to:"/login"})}}]),l}(l.Component);return(0,p.$j)(f,null)(e)}},1029:function(s,e,t){t.r(e),t.d(e,{default:function(){return T},withRouter:function(){return $}});var i=t(5671),r=t(3144),o=t(136),n=t(2882),a=t(8683),l=t(2791),u=t(8687),p={post:"Post_post__CT+s6",post_img:"Post_post_img__W78YB"},c=t(184),f=function(s){return(0,c.jsxs)("div",{className:p.post,children:[(0,c.jsx)("div",{className:p.post_img,children:(0,c.jsx)("img",{src:"https://images.assetsdelivery.com/compings_v2/triken/triken1608/triken160800029.jpg",alt:""})}),(0,c.jsx)("div",{className:p.post_content,children:s.message}),(0,c.jsx)("div",{children:"Like"})]})},d="MyPosts_content_posts__BM7po",_="MyPosts_addPostBtn__vlSzT",h="MyPosts_addPostInput__ri0bL",m="MyPosts_myPostsTitle__qoHDh",v="MyPosts_myPosts__ZewjP",j="MyPosts_addPostForm__8PiGK",x=t(6139),P=t(704),g=t(5760),N=t(6856),y=((0,g.D)(10),(0,P.Z)({form:"posts"})((function(s){return(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:s.handleSubmit,className:j,children:[(0,c.jsx)("div",{children:(0,c.jsx)(x.Z,{component:N.g,placeholder:"Your Message",name:"text",className:h})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:_,children:"Post"})})]})})}))),k=l.memo((function(s){var e=s.posts.map((function(e,t){return(0,c.jsx)(f,{message:e.message,likesCount:s.likesCount,likePost:s.likePost},t)}));return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:d,children:[(0,c.jsx)("h2",{className:m,children:"My posts"}),s.isOwner&&(0,c.jsx)(y,{onSubmit:function(e){var t;t=e.text,s.addPost(t)},posts:s.posts}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:v,children:e})]})})})),Z=t(6070),I=t(2381),b=(0,u.$j)((function(s){return{profileData:s.profile.profileData,posts:s.profile.postsData}}),(function(s){return{addPost:function(e){s((0,Z.Wl)(e)),s((0,I.mc)("posts"))}}}))(k),w=t(8708),S={},C=(l.Component,t(885)),O=function(s){var e=(0,l.useState)(!1),t=(0,C.Z)(e,2),i=t[0],r=t[1],o=(0,l.useState)(s.status),n=(0,C.Z)(o,2),a=n[0],u=n[1];(0,l.useEffect)((function(){u(s.status)}),[s.status]);return(0,c.jsxs)("div",{className:S.status,children:[i&&(0,c.jsx)("div",{onBlur:function(){r(!1),s.updateStatus(a)},className:S.status_input,children:(0,c.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},value:a,autoFocus:!0,type:"text"})}),!i&&(0,c.jsx)("div",{onDoubleClick:function(){s.isOwner&&r(!0)},className:S.status_text,children:(0,c.jsx)("span",{children:s.status||"------"})})]})},A={profile_banner__img:"ProfileInfo_profile_banner__img__XgpPZ",profile:"ProfileInfo_profile__IpKHk",profile__img:"ProfileInfo_profile__img__O14XL",profile_info__name:"ProfileInfo_profile_info__name__r61k9",profile_info:"ProfileInfo_profile_info__3udvm",profile_info__description:"ProfileInfo_profile_info__description__C7dLO",uploadAvatarLabel:"ProfileInfo_uploadAvatarLabel__uQ-Ea",uploadAvatar:"ProfileInfo_uploadAvatar__dH05+"},D=function(s){var e=s.profileData;if(!s.profile)return(0,c.jsx)(w.Z,{className:A.preloader});return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:A.profile,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:A.profile__img,children:(0,c.jsx)("img",{src:s.profile.photos.large||"https://illumesense.com/resources/illumesense/style/img/website/profile-picture-blanks/male-profile.jpg",alt:""})}),(0,c.jsxs)("div",{className:A.uploadAvatarBlock,children:[s.isOwner?(0,c.jsx)("input",{className:A.uploadAvatar,type:"file",id:"file",onChange:function(e){e.target.files.length&&s.savePhoto(e.target.files[0])}}):"",(0,c.jsx)("label",{className:A.uploadAvatarLabel,htmlFor:"file",children:"Choose a file"})]})]}),(0,c.jsxs)("div",{className:A.profile_info,children:[(0,c.jsx)("div",{className:A.profile_info__name,children:s.profile.fullName}),(0,c.jsx)(O,{isOwner:s.isOwner,status:s.status,updateStatus:s.updateStatus,userId:s.profile.userId}),s.isOwner&&(0,c.jsxs)("div",{className:A.profile_info__description,children:[(0,c.jsxs)("p",{children:["Date of Birth: ",e[1].birthday]}),(0,c.jsxs)("p",{children:["City: ",e[2].city]}),(0,c.jsxs)("p",{children:["Education: ",e[3].education]})]})]})]})})},M=(0,u.$j)((function(s){return{profileData:s.profile.profileData,profile:s.profile.profile}}),(function(s){return{}}))(D),L=function(s){return(0,c.jsxs)("div",{children:[(0,c.jsx)(M,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,c.jsx)(b,{isOwner:s.isOwner})]})},B=t(7193),z=t(6871),U=t(7781);function $(s){return function(e){var t={params:(0,z.UO)()};return(0,c.jsx)(s,(0,a.Z)((0,a.Z)({},e),{},{match:t}))}}var F=function(s){(0,o.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,i.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||this.props.isAuth&&(s=this.props.authorizedUserId),this.props.setProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,c.jsx)(L,(0,a.Z)((0,a.Z)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),T=(0,U.qC)((0,u.$j)((function(s){return{status:s.profile.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{setUserProfile:Z.$l,setProfile:Z.cJ,getStatus:Z.xD,updateStatus:Z.NN,savePhoto:Z.Ju}),$,B.Z)(F)}}]);
//# sourceMappingURL=707.14c68cbb.chunk.js.map