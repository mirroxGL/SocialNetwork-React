"use strict";(self.webpackChunkreact_ez_1=self.webpackChunkreact_ez_1||[]).push([[289],{7193:function(e,s,t){var o=t(8683),i=t(5671),r=t(3144),n=t(136),a=t(2882),l=t(2791),u=t(6871),f=t(8687),c=t(184),p=function(e){return{isAuth:e.auth.isAuth}};s.Z=function(e){var s=function(s){(0,n.Z)(l,s);var t=(0,a.Z)(l);function l(){return(0,i.Z)(this,l),t.apply(this,arguments)}return(0,r.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(e,(0,o.Z)({},this.props)):(0,c.jsx)(u.Fg,{to:"/login"})}}]),l}(l.Component);return(0,f.$j)(p,null)(s)}},289:function(e,s,t){t.r(s),t.d(s,{default:function(){return T},withRouter:function(){return z}});var o=t(5671),i=t(3144),r=t(136),n=t(2882),a=t(8683),l=t(2791),u=t(8687),f={post:"Post_post__CT+s6",post_img:"Post_post_img__W78YB"},c=t(184),p=function(e){return(0,c.jsxs)("div",{className:f.post,children:[(0,c.jsx)("div",{className:f.post_img,children:(0,c.jsx)("img",{src:"https://images.assetsdelivery.com/compings_v2/triken/triken1608/triken160800029.jpg",alt:""})}),(0,c.jsx)("div",{className:f.post_content,children:e.message}),(0,c.jsx)("div",{children:"Like"})]})},d="MyPosts_content_posts__BM7po",_="MyPosts_addPostBtn__vlSzT",h="MyPosts_addPostInput__ri0bL",m="MyPosts_myPostsTitle__qoHDh",x="MyPosts_myPosts__ZewjP",v="MyPosts_addPostForm__8PiGK",j=t(6139),I=t(704),P=t(5760),b=t(6856),N=((0,P.D)(10),(0,I.Z)({form:"posts"})((function(e){return(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:e.handleSubmit,className:v,children:[(0,c.jsx)("div",{children:(0,c.jsx)(j.Z,{component:b.gx,placeholder:"Your Message",name:"text",className:h})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:_,children:"Post"})})]})})}))),g=l.memo((function(e){var s=e.posts.map((function(s,t){return(0,c.jsx)(p,{profile:e.profile,message:s.message,likesCount:e.likesCount,likePost:e.likePost},t)}));return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:d,children:[(0,c.jsx)("h2",{className:m,children:"My posts"}),e.isOwner&&(0,c.jsx)(N,{onSubmit:function(s){var t;t=s.text,e.addPost(t)},posts:e.posts}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:x,children:s})]})})})),k=t(6070),y=t(2381),S=(0,u.$j)((function(e){return{profileData:e.profile.profileData,posts:e.profile.postsData,profile:e.profile.profile}}),(function(e){return{addPost:function(s){e((0,k.Wl)(s)),e((0,y.mc)("posts"))}}}))(g),Z=t(885),M=t(8708),w={status_text:"MyProfileInfoStatus_status_text__i-JcI",status_textInput:"MyProfileInfoStatus_status_textInput__ldWus"},A=(l.Component,function(e){var s=(0,l.useState)(!1),t=(0,Z.Z)(s,2),o=t[0],i=t[1],r=(0,l.useState)(e.status),n=(0,Z.Z)(r,2),a=n[0],u=n[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,c.jsxs)("div",{className:w.status,children:[o&&(0,c.jsx)("div",{onBlur:function(){i(!1),e.updateStatus(a)},className:w.status_input,children:(0,c.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},className:w.status_textInput,value:a,autoFocus:!0,type:"text"})}),!o&&(0,c.jsx)("div",{onDoubleClick:function(){e.isOwner&&i(!0)},className:w.status_text,children:(0,c.jsx)("span",{children:e.status||"------"})})]})}),B={profile_banner__img:"ProfileInfo_profile_banner__img__XgpPZ",profile:"ProfileInfo_profile__IpKHk",avatarBlock:"ProfileInfo_avatarBlock__1d0-Q",profileInfoBlock:"ProfileInfo_profileInfoBlock__ql7i3",profile__img:"ProfileInfo_profile__img__O14XL",profile_info__name:"ProfileInfo_profile_info__name__r61k9",profile_info:"ProfileInfo_profile_info__3udvm",profile_info__description:"ProfileInfo_profile_info__description__C7dLO",uploadAvatarLabel:"ProfileInfo_uploadAvatarLabel__uQ-Ea",uploadAvatar:"ProfileInfo_uploadAvatar__dH05+",contacts_item:"ProfileInfo_contacts_item__LePEV",editInfoBtn:"ProfileInfo_editInfoBtn__RRQqc",saveInfoBtn:"ProfileInfo_saveInfoBtn__iI4En",editNameFlex:"ProfileInfo_editNameFlex__NvIf5",additionlaInfo_item:"ProfileInfo_additionlaInfo_item__Gz7ot",fullNameLabel:"ProfileInfo_fullNameLabel__w3-YF",checkboxInput:"ProfileInfo_checkboxInput__quaRu",aboutMeInputs:"ProfileInfo_aboutMeInputs__E0Jc9"},O=(0,I.Z)({form:"edit-profile"})((function(e){return(0,c.jsx)("form",{onSubmit:e.handleSubmit,className:B.profileInfoBlock,children:(0,c.jsxs)("div",{className:B.profile_info,children:[(0,c.jsxs)("div",{className:B.editNameFlex,children:[(0,c.jsx)("div",{className:B.profile_info__name,children:(0,c.jsx)("div",{className:B.fullNameLabel,children:(0,b.Gr)("Full name","fullName",[],b.II)})}),e.isOwner&&(0,c.jsx)("button",{type:"submit",className:B.saveInfoBtn,children:"Save"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Status:"}),(0,c.jsx)(A,{isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,userId:e.profile.userId})]}),(0,c.jsx)("b",{children:"Looking for a job:"}),(0,c.jsx)("div",{className:B.checkboxInput,children:(0,b.Gr)("Looking for a job","lookingForAJob",[],b.II,{type:"checkbox"})}),(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"My professional skills:"}),(0,c.jsx)("div",{className:B.aboutMeInputs,children:(0,b.Gr)("My professional skills...","lookingForAJobDescription",[],b.gx)}),(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"About Me:"}),(0,c.jsx)("div",{className:B.aboutMeInputs,children:(0,b.Gr)("About me...","aboutMe",[],b.gx)})]})})})),C=function(e){return(0,c.jsx)("div",{className:B.profileInfoBlock,children:(0,c.jsxs)("div",{className:B.profile_info,children:[(0,c.jsxs)("div",{className:B.editNameFlex,children:[(0,c.jsx)("p",{className:B.profile_info__name,children:e.profile.fullName}),e.isOwner&&(0,c.jsx)("button",{className:B.editInfoBtn,onClick:e.goToEditMode,children:"Edit"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Status:"}),(0,c.jsx)(A,{isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,userId:e.profile.userId})]}),(0,c.jsxs)("div",{className:B.additionlaInfo_item,children:[(0,c.jsx)("b",{children:"Looking for a job:"}),e.profile.lookingForAJob?" yes":" no"]}),(0,c.jsxs)("div",{className:B.additionlaInfo_item,children:[(0,c.jsx)("b",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),(0,c.jsxs)("div",{className:B.additionlaInfo_item,children:[(0,c.jsx)("b",{children:"About Me:"})," ",e.profile.aboutMe]})]})})},F=function(e){var s=(0,l.useState)(!1),t=(0,Z.Z)(s,2),o=t[0],i=t[1];e.profileData;if(!e.profile)return(0,c.jsx)(M.Z,{className:B.preloader});return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:B.profile,children:[(0,c.jsxs)("div",{className:B.avatarBlock,children:[(0,c.jsx)("div",{className:B.profile__img,children:(0,c.jsx)("img",{src:e.profile.photos.large||"https://illumesense.com/resources/illumesense/style/img/website/profile-picture-blanks/male-profile.jpg",alt:""})}),(0,c.jsxs)("div",{className:B.uploadAvatarBlock,children:[e.isOwner?(0,c.jsx)("input",{className:B.uploadAvatar,type:"file",id:"file",onChange:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])}}):"",e.isOwner?(0,c.jsx)("label",{className:B.uploadAvatarLabel,htmlFor:"file",children:"Choose a file"}):""]})]}),o?(0,c.jsx)(O,(0,a.Z)((0,a.Z)({initialValues:e.profile},e),{},{onSubmit:function(s){console.log(s),e.saveProfile(s),i(!1)},setEditMode:i})):(0,c.jsx)(C,(0,a.Z)({goToEditMode:function(){return i(!0)}},e))]})})},L=function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)(F,{savePhoto:e.savePhoto,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile,profile:e.profile}),(0,c.jsx)(S,{isOwner:e.isOwner})]})},D=t(7193),E=t(6871),J=t(7781);t(4757);function z(e){return function(s){var t={params:(0,E.UO)()};return(0,c.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{match:t}))}}var G=function(e){(0,r.Z)(t,e);var s=(0,n.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||this.props.isAuth&&(console.log(this.props.authorizedUserId),e=this.props.authorizedUserId),this.props.setProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,c.jsx)(L,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(l.Component),T=(0,J.qC)((0,u.$j)((function(e){return{profile:e.profile.profile,status:e.profile.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:k.$l,setProfile:k.cJ,getStatus:k.xD,updateStatus:k.NN,savePhoto:k.Ju,saveProfile:k.Gi}),z,D.Z)(G)}}]);
//# sourceMappingURL=289.e83d6c31.chunk.js.map